{% extends "base_livecode.html" %}

{% block title %}Unsound Playground{% endblock %}

{% block content %}
<div class="live norun" id="ex1">
class Unsound {
  static class Bind&lt;A&gt; {
    class Curry&lt;B extends A&gt; {
	  A curry(B b) { return b; }
	}
    &lt;B extends A&gt;
    Curry&lt;B&gt; upcast(Constraint&lt;B&gt; constraint) {
      return new Curry&lt;B&gt;();
    }
    class Constraint&lt;B extends A&gt; {}
	&lt;B&gt; A coerce(B t) {
	  Constraint&lt;? super B&gt; constraint = null;
	  return upcast(constraint).curry(t);
	}
  }
  static &lt;T,U&gt; U coerce(T t) {
    return new Bind&lt;U&gt;().&lt;T&gt;coerce(t);
  }
  public static void main(String[] args) {
    String zero = Unsound.&lt;Integer,String&gt;coerce(0);
  }
}
</div>

<div class="live" id="run1" data-lib="ex1" lang-mode="shell">
#!/bin/bash
set -e -v

### PICK VERSION
export JAVA_HOME=/usr/lib/jvm/java-7-oracle
export PATH=$JAVA_HOME/bin:$PATH

### CHECK VERSION
java -version

### COMPILE
cat $1 >Unsound.java
javac Unsound.java

### RUN
java Unsound
</div>

{% endblock %}
